{% extends 'base.html' %}

{% load staticfiles %}

{% block css %}
  <link href="{% static 'css/advanced_search.css' %}" rel="stylesheet">
{% endblock %}

{% block body %}

<div class="row outside-row" style="margin-top:-20px;">

  <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
    <div class="row">
      <div class="search-title green-text">
        Advanced Search
      </div>
    </div>
  </div>

  <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
    <div class="row">
      {% for feature, options in all_feature_options.items %}
        <span class="col-md-3 col-sm-4 col-xs-6 search-check">
          <span class="field-text">{{ feature }}</span>
          {% for option in options %}
            <h6>
              {% if feature in greychecks %}
                <img src="{% static 'images/icon-no.png' %}" class="field-selector check-img icon-no" data-current-check="icon-no" data-field="{{feature}}">
              {% elif feature in greenchecks %}
                <img src="{% static 'images/icon-yes.png' %}" class="field-selector check-img icon-yes" data-current-check="icon-yes" data-field="{{feature}}">
              {% else %}
                <img src="{% static 'images/icon-maybe.png' %}" class="field-selector check-img icon-maybe" data-current-check="icon-maybe" data-field="{{feature}}">
              {% endif %}
              {{ option }}
            </h6>
          {% endfor %}
        </span>
      {% endfor %}
    </div>
    <div class="col-md-4 col-xs-6 col-md-offset-4 col-xs-offset-3">
      <button class="btn btn-default btn-lg search-button" style="width:100%" type="submit">Search</button>
    </div>
  </div>
</div>

<div class="row advanced-results-row">
  <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1">
    <div class="row inside-row">
      <div class="words-area">
      {% for data in ordered_dbs_list %}
        {% if data.dbs %}
            <div class="letter-area" id="letter-{{ data.letter }}">
              <div class="letter-title green-text">
                {{ data.letter }}
              </div>
              <div class="db-name-area">
                {% for db in data.dbs %}
                  <div class="db-name">
                    <a href="/db/{{ db.hash_name }}" style="color:white">{{ db.screen_name }}</a>
                  </div>
                {% endfor %}
              </div>
            </div>
        {% endif %}
      {% endfor %}
      </div>
    </div>
  </div>

  <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-10 col-xs-offset-1 no-results" style="display:none;">
    <div class="row inside-row">
      <div class="no-results-title">
        No Results
      </div>
    </div>
  </div>
</div>

{% endblock %}

{% block js %}
  <script src="{% static 'js/advanced_search.js' %}"></script>
{% endblock %}

